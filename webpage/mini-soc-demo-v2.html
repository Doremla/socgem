<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SOC GEM ‚Äî SARGEM</title>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Share+Tech+Mono&family=Exo+2:wght@300;400;600;800&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{background:#05080f;overflow:hidden}
  ::-webkit-scrollbar{width:5px}
  ::-webkit-scrollbar-track{background:#05080f}
  ::-webkit-scrollbar-thumb{background:#0e2030;border-radius:3px}
  @keyframes pulse-ring{0%{transform:scale(1);opacity:.4}100%{transform:scale(2.4);opacity:0}}
  @keyframes fadeInUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
  @keyframes slideInRight{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}
  @keyframes glow-pulse{0%,100%{box-shadow:0 0 20px #00e5ff30}50%{box-shadow:0 0 60px #00e5ff60}}
  @keyframes loading-bar{from{width:0}to{width:100%}}
  @keyframes ticker{from{transform:translateX(0)}to{transform:translateX(-50%)}}
  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  @keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
  @keyframes scan-flash{0%{opacity:0}20%{opacity:1}80%{opacity:1}100%{opacity:0}}
  .nav-btn:hover{background:rgba(0,229,255,.08)!important;color:#00e5ff!important}
  .alert-row:hover{background:rgba(0,229,255,.05)!important}
  .action-btn:hover{filter:brightness(1.3)}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect, useRef } = React;

const C = {
  bg:"#05080f", panel:"#08101a", border:"#0e1f30",
  cyan:"#00e5ff", amber:"#ffaa00", red:"#ff2b4e",
  green:"#00e676", purple:"#c77dff",
  text:"#cce8f4", muted:"#3a5a70", dimmed:"#1a3040",
};

const SEV = {
  CRITICO:{color:C.red,   glow:"#ff2b4e60"},
  ALTO:   {color:C.amber, glow:"#ffaa0060"},
  MEDIO:  {color:"#ffd600",glow:"#ffd60040"},
  BASSO:  {color:C.green, glow:"#00e67640"},
};

const TOUR = [
  {title:"üìä Situazione in Tempo Reale", text:"In un colpo d'occhio vedi quante minacce sono attive, quante bloccate automaticamente e il tuo livello di sicurezza. Numeri che prima non avevi.", pos:"bottom"},
  {title:"üö® Alert Feed Live", text:"Ogni evento sospetto viene catturato e classificato per gravit√† in automatico. Niente pi√π email disperse o log illeggibili.", pos:"left"},
  {title:"üîç Analisi dell'Incidente", text:"Clicca qualsiasi alert per vedere tutta la storia: chi ha attaccato, cosa ha colpito, quando. Tutto in un pannello, senza aprire 5 tool diversi.", pos:"left"},
  {title:"üìã Playbook Guidato", text:"Il sistema dice esattamente cosa fare, passo per passo. Anche un junior pu√≤ gestire un incidente grazie alle procedure pre-caricate.", pos:"left"},
  {title:"üñ• Controllo degli Asset", text:"Tutti i tuoi server, firewall e dispositivi monitorati in una mappa unica. Vedi subito quali sono sotto pressione.", pos:"right"},
  {title:"üìà Report per il Management", text:"Con un clic generi un report per il CDA o l'auditor. GDPR, NIS2 e ISO 27001 sempre sotto controllo.", pos:"top"},
];

const PLAYBOOKS = {
  "Brute Force SSH":      ["Blocca IP sorgente sul firewall perimetrale","Analizza log autenticazione ultimi 24h","Verifica se qualche accesso √® andato a buon fine","Reimposta credenziali degli account target","Attiva autenticazione a due fattori"],
  "Privilege Escalation": ["Termina immediatamente la sessione sospetta","Revoca i token di accesso dell'utente coinvolto","Analizza log di sudo e dei servizi di sistema","Patch del sistema vulnerabile","Audit completo degli account privilegiati"],
  "Malware Rilevato":     ["Isola il dispositivo dalla rete aziendale","Avvia scansione completa con EDR","Crea immagine forense del disco","Identifica vettore di infezione iniziale","Ripristina da backup verificato"],
  "Data Exfiltration":    ["Blocca connessione verso IP esterno","Notifica il DPO ‚Äî obbligo GDPR 72h","Identifica tipologia e volume dei dati","Analizza il beacon C2","Cambia tutte le credenziali aziendali"],
  "Port Scan":            ["Verifica IP su database threat intel","Controlla regole firewall esistenti","Aumenta livello di logging","Valuta introduzione geoblocking"],
  "Phishing Email":       ["Metti in quarantena email dal mittente","Blocca dominio sul gateway email","Notifica utenti che hanno aperto il link","Aggiorna filtri antispam"],
  "Ransomware Rilevato":  ["ISOLA IMMEDIATAMENTE il dispositivo","Notifica tutto il team IT","Non pagare il riscatto ‚Äî chiama specialisti","Attiva piano di Business Continuity","Ripristina da backup offline verificato"],
  "DDoS Attack":          ["Attiva rate limiting upstream","Notifica ISP per blackholing","Abilita scrubbing center / CDN","Analizza origine e pattern","Attiva modalit√† anti-DDoS sul WAF"],
  "Accesso Non Autorizzato":["Termina sessione immediatamente","Blocca account compromesso","Analizza attivit√† svolta nella sessione","Verifica log VPN e firewall","Avvia procedura di incident response"],
};

const SEED = [
  {id:1, type:"Brute Force SSH",      sev:"CRITICO", src:"185.220.101.47",   dst:"SRV-WEB",          info:"847 tentativi in 3 minuti",                 ts:new Date(Date.now()-18*60000), status:"CHIUSO",     analyst:"M. Rossi"},
  {id:2, type:"Privilege Escalation", sev:"CRITICO", src:"PC-CONTABILITA",   dst:"DC-01",             info:"Escalation SYSTEM via CVE-2024-3094",       ts:new Date(Date.now()-11*60000), status:"IN ANALISI", analyst:"L. Bianchi"},
  {id:3, type:"Malware Rilevato",     sev:"CRITICO", src:"PC-MAGAZZINO",     dst:"‚Äî",                 info:"Trojan.Emotet.V2 in C:\\Users\\temp",       ts:new Date(Date.now()-6*60000),  status:"IN ANALISI", analyst:"S. Ferrari"},
  {id:4, type:"Data Exfiltration",    sev:"ALTO",    src:"192.168.1.55",     dst:"45.33.12.8 (RU)",   info:"Upload 340 MB verso IP esterno",            ts:new Date(Date.now()-4*60000),  status:"NUOVO",      analyst:null},
  {id:5, type:"Port Scan",            sev:"MEDIO",   src:"10.0.0.12",        dst:"Subnet /24",        info:"Scansione SYN su 1024 porte",               ts:new Date(Date.now()-2*60000),  status:"NUOVO",      analyst:null},
  {id:6, type:"Phishing Email",       sev:"ALTO",    src:"noreply@micros0ft-support.com", dst:"staff@azienda.it", info:"Allegato .xlsm con macro malevola", ts:new Date(Date.now()-60000), status:"NUOVO", analyst:null},
];

const ASSETS = [
  {name:"FW-PERIMETRALE",  type:"Firewall",          ip:"80.44.12.1",    ok:true,  events:312, cpu:18},
  {name:"SRV-WEB",         type:"Web Server",         ip:"192.168.1.10",  ok:false, events:892, cpu:74},
  {name:"DC-01",           type:"Domain Controller",  ip:"192.168.1.2",   ok:true,  events:204, cpu:32},
  {name:"SRV-DATABASE",    type:"Database",           ip:"192.168.1.20",  ok:true,  events:55,  cpu:21},
  {name:"VPN-GATEWAY",     type:"VPN Gateway",        ip:"80.44.12.5",    ok:false, events:1204,cpu:89},
  {name:"NAS-BACKUP",      type:"Storage",            ip:"192.168.1.30",  ok:true,  events:12,  cpu:8},
  {name:"PC-CONTABILITA",  type:"Endpoint",           ip:"192.168.2.14",  ok:false, events:440, cpu:91},
  {name:"SWITCH-CORE",     type:"Network",            ip:"192.168.0.2",   ok:true,  events:88,  cpu:12},
];

const fmt = d => d.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"});
const fmtFull = d => d.toLocaleString("it-IT",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});

function Counter({to, duration=1400, suffix=""}) {
  const [v, setV] = useState(0);
  useEffect(()=>{
    let s=null;
    const step=ts=>{if(!s)s=ts;const p=Math.min((ts-s)/duration,1);setV(Math.floor(p*p*to));if(p<1)requestAnimationFrame(step);};
    requestAnimationFrame(step);
  },[to]);
  return React.createElement(React.Fragment,null,v.toLocaleString("it-IT")+suffix);
}

function PulseDot({color=C.green, size=8}) {
  return (
    <span style={{position:"relative",display:"inline-block",width:size,height:size,verticalAlign:"middle"}}>
      <span style={{position:"absolute",inset:0,borderRadius:"50%",background:color,opacity:.3,animation:"pulse-ring 2s ease-out infinite"}}/>
      <span style={{display:"block",width:size,height:size,borderRadius:"50%",background:color}}/>
    </span>
  );
}

function TourOverlay({step, total, onNext, onSkip}) {
  const s = TOUR[step];
  const positions = {
    bottom: {top:"15%", left:"50%", transform:"translateX(-50%)"},
    left:   {top:"50%", left:"56%", transform:"translateY(-50%)"},
    right:  {top:"50%", right:"2%", transform:"translateY(-50%)"},
    top:    {bottom:"10%", left:"50%", transform:"translateX(-50%)"},
  };
  return (
    <div style={{position:"fixed",inset:0,zIndex:9000,pointerEvents:"none"}}>
      <div style={{position:"absolute",inset:0,background:"rgba(0,0,0,.75)",pointerEvents:"all"}} onClick={onSkip}/>
      <div style={{
        position:"absolute", ...positions[s.pos],
        width:340, background:"linear-gradient(135deg,#0d1e2f,#0a1520)",
        border:`1.5px solid ${C.cyan}50`, borderRadius:12,
        padding:"22px 24px",
        boxShadow:`0 0 50px ${C.cyan}20, 0 20px 60px rgba(0,0,0,.6)`,
        pointerEvents:"all", animation:"fadeInUp .35s ease",
      }}>
        <div style={{fontSize:9,letterSpacing:3,color:C.cyan+"80",marginBottom:6,fontFamily:"'Share Tech Mono',monospace"}}>
          PASSO {step+1} DI {total}
        </div>
        <div style={{fontSize:16,fontWeight:700,color:"#e8f4ff",fontFamily:"'Exo 2',sans-serif",marginBottom:10,lineHeight:1.3}}>
          {s.title}
        </div>
        <div style={{fontSize:12,color:"#8aacbe",lineHeight:1.7,marginBottom:18,fontFamily:"'Rajdhani',sans-serif"}}>
          {s.text}
        </div>
        <div style={{display:"flex",gap:10}}>
          <button onClick={onNext} style={{
            flex:1, padding:"10px 0",
            background:`linear-gradient(90deg,${C.cyan}30,${C.cyan}15)`,
            border:`1px solid ${C.cyan}60`, borderRadius:6,
            color:C.cyan, fontFamily:"'Rajdhani',sans-serif",
            fontSize:13, fontWeight:700, letterSpacing:2, cursor:"pointer",
          }}>{step===total-1?"‚úì INIZIA LA DEMO":"AVANTI ‚Üí"}</button>
          <button onClick={onSkip} style={{
            padding:"10px 16px", background:"transparent",
            border:"1px solid #1a3040", borderRadius:6,
            color:C.muted, fontFamily:"'Rajdhani',sans-serif",
            fontSize:11, letterSpacing:1, cursor:"pointer",
          }}>SALTA</button>
        </div>
        <div style={{display:"flex",gap:5,justifyContent:"center",marginTop:14}}>
          {Array.from({length:total}).map((_,i)=>(
            <div key={i} style={{
              width:i===step?18:6, height:6, borderRadius:3,
              background:i===step?C.cyan:i<step?C.cyan+"50":"#1a3040",
              transition:"all .3s",
            }}/>
          ))}
        </div>
      </div>
    </div>
  );
}

function AttackBanner({alert, onDismiss}) {
  return (
    <div style={{
      position:"fixed",top:70,right:16,zIndex:8000,width:360,
      background:"linear-gradient(135deg,#1a0510,#120008)",
      border:`2px solid ${C.red}`, borderRadius:10,
      padding:"16px 18px",
      boxShadow:`0 0 60px ${C.red}40`,
      animation:"slideInRight .4s ease",
    }}>
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}}>
        <div style={{display:"flex",gap:10,alignItems:"center"}}>
          <span style={{fontSize:24}}>üö®</span>
          <div>
            <div style={{fontSize:10,color:C.red,fontWeight:700,letterSpacing:2,fontFamily:"'Share Tech Mono',monospace"}}>ATTACCO IN CORSO</div>
            <div style={{fontSize:15,fontWeight:700,color:"#ffe0e0",fontFamily:"'Exo 2',sans-serif"}}>{alert.type}</div>
          </div>
        </div>
        <button onClick={onDismiss} style={{background:"none",border:"none",color:C.muted,cursor:"pointer",fontSize:18,lineHeight:1}}>‚úï</button>
      </div>
      <div style={{
        marginTop:10, padding:"8px 12px",
        background:"#ff2b4e10", borderRadius:6, borderLeft:`3px solid ${C.red}`,
        fontFamily:"'Share Tech Mono',monospace", fontSize:10, color:"#ff9090", lineHeight:2,
      }}>
        <div>SRC: {alert.src}</div>
        <div>DST: {alert.dst}</div>
        <div>INFO: {alert.info}</div>
      </div>
      <div style={{marginTop:12,display:"flex",gap:8}}>
        <button onClick={onDismiss} style={{
          flex:1, padding:"9px 0",
          background:C.red+"20", border:`1px solid ${C.red}60`, borderRadius:5,
          color:C.red, fontFamily:"'Rajdhani',sans-serif",
          fontSize:12, fontWeight:700, letterSpacing:2, cursor:"pointer",
        }}>üö´ BLOCCA ORA</button>
        <button onClick={onDismiss} style={{
          padding:"9px 14px", background:"transparent",
          border:"1px solid #2a3540", borderRadius:5,
          color:C.muted, fontFamily:"'Rajdhani',sans-serif",
          fontSize:11, cursor:"pointer",
        }}>ANALIZZA</button>
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ SPLASH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function Splash({onDone}) {
  const [pct, setPct] = useState(0);
  useEffect(()=>{
    const i = setInterval(()=>setPct(p=>{if(p>=100){clearInterval(i);setTimeout(onDone,300);return 100;}return p+2;}),60);
    return ()=>clearInterval(i);
  },[]);
  return (
    <div style={{
      minHeight:"100vh", background:C.bg,
      display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",
      fontFamily:"'Exo 2',sans-serif", position:"relative", overflow:"hidden",
    }}>
      <div style={{
        position:"absolute",inset:0,opacity:.3,
        backgroundImage:`linear-gradient(${C.border}50 1px,transparent 1px),linear-gradient(90deg,${C.border}50 1px,transparent 1px)`,
        backgroundSize:"40px 40px",
      }}/>
      <div style={{
        position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",
        width:700,height:700,borderRadius:"50%",
        background:`radial-gradient(circle,${C.cyan}06 0%,transparent 70%)`,
        animation:"glow-pulse 3s ease-in-out infinite",
      }}/>
      <div style={{textAlign:"center",animation:"fadeInUp .8s ease both",position:"relative",zIndex:1}}>
        <div style={{
          width:110,height:110,margin:"0 auto 28px",
          borderRadius:"50%",
          background:`radial-gradient(circle at 30% 30%,#00e5ff40,#001a2e)`,
          border:`2px solid ${C.cyan}60`,
          display:"flex",alignItems:"center",justifyContent:"center",
          fontSize:48, boxShadow:`0 0 60px ${C.cyan}30`,
          animation:"glow-pulse 2s ease-in-out infinite",
        }}>üõ°Ô∏è</div>
        <div style={{fontSize:58,fontWeight:800,letterSpacing:8,color:"#e8f4ff",lineHeight:1}}>
          SOC<span style={{color:"#c77dff"}}>¬∑</span>GEM
        </div>
        <div style={{fontSize:13,letterSpacing:5,color:C.muted,marginTop:10}}>
          SISTEMA DI MONITORAGGIO E RISPOSTA ALLE MINACCE
        </div>
        <div style={{fontSize:11,color:C.cyan+"80",letterSpacing:3,marginTop:28,marginBottom:12,fontFamily:"'Share Tech Mono',monospace"}}>
          {pct < 30 ? "CARICAMENTO AGENTI..." : pct < 60 ? "CONNESSIONE THREAT INTEL..." : pct < 90 ? "INIZIALIZZAZIONE SIEM..." : "SISTEMA OPERATIVO ‚úì"}
        </div>
        <div style={{width:320,height:3,background:"#0e1f30",borderRadius:2,margin:"0 auto"}}>
          <div style={{
            height:"100%",borderRadius:2,
            width:`${pct}%`,
            background:`linear-gradient(90deg,${C.cyan}80,${C.cyan})`,
            transition:"width .08s linear",
            boxShadow:`0 0 10px ${C.cyan}60`,
          }}/>
        </div>
        <div style={{marginTop:10,fontSize:10,color:C.muted,fontFamily:"'Share Tech Mono',monospace"}}>{pct}%</div>
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ DASHBOARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function Dashboard() {
  const [view, setView]           = useState("panoramica");
  const [alerts, setAlerts]       = useState(SEED);
  const [selected, setSelected]   = useState(null);
  const [liveAttack, setLiveAttack] = useState(null);
  const [pbDone, setPbDone]       = useState({});
  const [time, setTime]           = useState(new Date());
  const [scanFlash, setScanFlash] = useState(false);
  const [tourStep, setTourStep]   = useState(0);
  const [tourDone, setTourDone]   = useState(false);
  let alertIdRef = useRef(SEED.length);

  useEffect(()=>{const i=setInterval(()=>setTime(new Date()),1000);return()=>clearInterval(i);},[]);

  const triggerAttack = () => {
    const templates = [
      {type:"Ransomware Rilevato",       src:"PC-DIREZIONE",     dst:"File Server",       info:"CryptoLocker.v4 ‚Äî 2.400 file cifrati in 60s",  sev:"CRITICO"},
      {type:"DDoS Attack",               src:"Botnet / 4.200 host",dst:"SRV-WEB:443",     info:"320.000 req/s ‚Äî sito non raggiungibile",       sev:"CRITICO"},
      {type:"Accesso Non Autorizzato",   src:"203.0.113.55 (CN)", dst:"VPN-GATEWAY",      info:"Login riuscito da geolocation anomala",        sev:"CRITICO"},
    ];
    const t = templates[Math.floor(Math.random()*templates.length)];
    alertIdRef.current += 1;
    const a = {...t, id:alertIdRef.current, status:"NUOVO", analyst:null, ts:new Date()};
    setLiveAttack(a);
    setAlerts(prev=>[a,...prev]);
    setScanFlash(true);
    setTimeout(()=>setScanFlash(false),1200);
  };

  const stats = {
    minacce: alerts.filter(a=>a.status!=="CHIUSO").length,
    bloccate: alerts.filter(a=>a.status==="CHIUSO").length + 247,
    asset_ok: 5,
    score: 87,
  };

  const [supportForm, setSupportForm] = useState({nome:"",email:"",tel:"",urgenza:"NORMALE",tipo:"Analisi Incidente",messaggio:""});
  const [supportSent, setSupportSent] = useState(false);

  const navItems = [
    {id:"panoramica", icon:"‚¨°", label:"Panoramica"},
    {id:"minacce",    icon:"‚ö†", label:"Minacce Live"},
    {id:"assets",     icon:"‚äû", label:"Asset Map"},
    {id:"report",     icon:"‚Üó", label:"Report"},
    {id:"supporto",   icon:"üÜò", label:"Richiedi Supporto", highlight:true},
  ];

  return (
    <div style={{height:"100vh",background:C.bg,fontFamily:"'Rajdhani',sans-serif",color:C.text,display:"flex",flexDirection:"column",overflow:"hidden"}}>

      {/* TOUR */}
      {!tourDone && (
        <TourOverlay
          step={tourStep}
          total={TOUR.length}
          onNext={()=>{ if(tourStep>=TOUR.length-1){setTourDone(true);}else{setTourStep(t=>t+1);}}}
          onSkip={()=>setTourDone(true)}
        />
      )}

      {/* LIVE ATTACK */}
      {liveAttack && <AttackBanner alert={liveAttack} onDismiss={()=>setLiveAttack(null)}/>}

      {/* SCAN FLASH */}
      {scanFlash && (
        <div style={{
          position:"fixed",inset:0,zIndex:7000,pointerEvents:"none",
          background:`linear-gradient(transparent 20%,${C.red}15 50%,transparent 80%)`,
          animation:"scan-flash .8s ease forwards",
        }}/>
      )}

      {/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */}
      <header style={{
        height:56, flexShrink:0,
        display:"flex",alignItems:"center",justifyContent:"space-between",
        padding:"0 20px",
        background:"linear-gradient(90deg,#07101a,#060e17)",
        borderBottom:`1px solid ${C.border}`,
      }}>
        <div style={{display:"flex",alignItems:"center",gap:12}}>
          <div style={{position:"relative",width:34,height:34}}>
            <div style={{position:"absolute",inset:0,borderRadius:"50%",border:`2px solid ${C.cyan}40`,animation:"pulse-ring 2s ease-out infinite"}}/>
            <div style={{position:"absolute",inset:4,borderRadius:"50%",background:`radial-gradient(circle,${C.cyan},#0050cc)`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14}}>üõ°</div>
          </div>
          <div>
            <div style={{fontSize:18,fontWeight:800,letterSpacing:3,color:"#e8f4ff",lineHeight:1,fontFamily:"'Exo 2',sans-serif"}}>
              SOC¬∑<span style={{color:"#c77dff"}}>GEM</span>
            </div>
            <div style={{fontSize:8,letterSpacing:3,color:C.muted}}>SARGEM ‚Äî SOC GEM</div>
          </div>
        </div>

        <div style={{display:"flex",gap:6,alignItems:"center"}}>
          {[{l:"SISTEMA",ok:true},{l:"AGENTI",ok:true},{l:"THREAT INTEL",ok:true},{l:"BACKUP",ok:false}].map(s=>(
            <div key={s.l} style={{
              display:"flex",alignItems:"center",gap:5,padding:"4px 10px",
              background:s.ok?"#00e67608":"#ff2b4e08",
              border:`1px solid ${s.ok?C.green:C.red}30`, borderRadius:4,
            }}>
              <PulseDot color={s.ok?C.green:C.red} size={6}/>
              <span style={{fontSize:9,letterSpacing:1.5,color:s.ok?C.green:C.red,fontWeight:700}}>{s.l}</span>
            </div>
          ))}
        </div>

        <div style={{display:"flex",alignItems:"center",gap:14}}>
          <button onClick={triggerAttack} style={{
            padding:"8px 18px",
            background:`linear-gradient(90deg,${C.red}25,${C.red}10)`,
            border:`1px solid ${C.red}50`, borderRadius:6,
            color:C.red, fontFamily:"'Rajdhani',sans-serif",
            fontSize:11, fontWeight:700, letterSpacing:2, cursor:"pointer",
          }}>‚ö° SIMULA ATTACCO</button>
          <div style={{textAlign:"right"}}>
            <div style={{fontSize:22,fontWeight:700,color:C.cyan,letterSpacing:3,lineHeight:1,fontFamily:"'Share Tech Mono',monospace"}}>
              {time.toLocaleTimeString("it-IT")}
            </div>
            <div style={{fontSize:8,color:C.muted,letterSpacing:2}}>
              {time.toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"short"}).toUpperCase()}
            </div>
          </div>
        </div>
      </header>

      {/* ‚îÄ‚îÄ BODY ‚îÄ‚îÄ */}
      <div style={{flex:1,display:"flex",overflow:"hidden"}}>

        {/* SIDEBAR */}
        <nav style={{
          width:200,background:"#060d15",
          borderRight:`1px solid ${C.border}`,
          display:"flex",flexDirection:"column",padding:"16px 10px",gap:4,flexShrink:0,
        }}>
          {navItems.map(n=>(
            <button key={n.id} className="nav-btn" onClick={()=>setView(n.id)} style={{
              display:"flex",alignItems:"center",gap:8,padding:"11px 12px",
              background:view===n.id?(n.highlight?`${C.red}18`:`${C.cyan}12`):n.highlight?"rgba(255,45,85,.07)":"transparent",
              border:`1px solid ${view===n.id?(n.highlight?C.red+"60":C.cyan+"40"):n.highlight?C.red+"30":"transparent"}`,
              borderRadius:6, cursor:"pointer",
              color:view===n.id?(n.highlight?C.red:C.cyan):n.highlight?C.red+"cc":C.muted,
              fontFamily:"'Rajdhani',sans-serif",fontSize:13,fontWeight:n.highlight?700:600,letterSpacing:1,
              textAlign:"left",transition:"all .2s",
              marginTop:n.highlight?"auto":"0",
            }}>
              <span style={{fontSize:14}}>{n.icon}</span>
              <span style={{flex:1}}>{n.label}</span>
              {n.highlight && view!==n.id && <span style={{width:7,height:7,borderRadius:"50%",background:C.red,boxShadow:`0 0 6px ${C.red}`,flexShrink:0,display:"inline-block"}}/>}
            </button>
          ))}
          <div style={{flex:1}}/>
          <div style={{padding:"14px 12px",borderTop:`1px solid ${C.border}`}}>
            <div style={{fontSize:9,color:C.muted,marginBottom:6,letterSpacing:1}}>SECURITY SCORE</div>
            <div style={{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6}}>
              <div style={{fontSize:10,color:C.green,fontWeight:700}}>LIVELLO B+</div>
              <div style={{fontSize:20,fontWeight:800,color:C.green,fontFamily:"'Exo 2',sans-serif"}}>87<span style={{fontSize:11}}>%</span></div>
            </div>
            <div style={{height:4,background:"#0e1f30",borderRadius:2}}>
              <div style={{width:"87%",height:"100%",borderRadius:2,background:`linear-gradient(90deg,${C.green}70,${C.green})`}}/>
            </div>
          </div>
        </nav>

        {/* CONTENT */}
        <div style={{flex:1,overflowY:"auto"}}>

          {/* ‚ïê‚ïê PANORAMICA ‚ïê‚ïê */}
          {view==="panoramica" && (
            <div style={{padding:20,display:"flex",flexDirection:"column",gap:18}}>

              {/* KPIs */}
              <div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12}}>
                {[
                  {label:"Minacce Attive",    val:stats.minacce,   suffix:"",   color:C.red,   desc:"richiedono attenzione"},
                  {label:"Bloccate Oggi",      val:stats.bloccate,  suffix:"",   color:C.green, desc:"risposta automatica"},
                  {label:"Dispositivi Sicuri", val:stats.asset_ok,  suffix:"/8", color:C.cyan,  desc:"su 8 asset monitorati"},
                  {label:"Security Score",     val:stats.score,     suffix:"%",  color:C.amber, desc:"obiettivo: 95%"},
                ].map(k=>(
                  <div key={k.label} style={{
                    background:`linear-gradient(135deg,${C.panel},#060d15)`,
                    border:`1px solid ${k.color}25`,
                    borderTop:`3px solid ${k.color}`,
                    borderRadius:10, padding:"18px 16px",
                  }}>
                    <div style={{fontSize:9,color:C.muted,letterSpacing:2,marginBottom:6}}>{k.label.toUpperCase()}</div>
                    <div style={{fontSize:38,fontWeight:800,color:k.color,lineHeight:1,fontFamily:"'Exo 2',sans-serif"}}>
                      <Counter to={k.val} suffix={k.suffix}/>
                    </div>
                    <div style={{fontSize:10,color:C.muted,marginTop:5}}>{k.desc}</div>
                  </div>
                ))}
              </div>

              {/* Alert feed + detail */}
              <div style={{display:"flex",gap:14,minHeight:400}}>

                {/* feed */}
                <div style={{
                  flex:1,background:C.panel,
                  border:`1px solid ${C.border}`,borderRadius:10,overflow:"hidden",
                }}>
                  <div style={{
                    padding:"12px 16px",borderBottom:`1px solid ${C.border}`,
                    display:"flex",alignItems:"center",justifyContent:"space-between",
                  }}>
                    <div style={{fontSize:11,fontWeight:700,letterSpacing:2,color:C.text,display:"flex",alignItems:"center",gap:8}}>
                      <PulseDot color={C.red} size={7}/> ALERT IN TEMPO REALE
                    </div>
                    <div style={{fontSize:9,color:C.cyan,letterSpacing:2,fontFamily:"'Share Tech Mono',monospace"}}>{alerts.length} EVENTI</div>
                  </div>
                  <div style={{overflowY:"auto",maxHeight:360}}>
                    {alerts.map(a=>{
                      const sc = (SEV[a.sev]||SEV.BASSO).color;
                      const isSel = selected?.id===a.id;
                      return (
                        <div key={a.id} className="alert-row" onClick={()=>setSelected(isSel?null:a)} style={{
                          display:"flex",alignItems:"center",gap:10,padding:"10px 16px",
                          borderBottom:`1px solid ${C.border}`,
                          background:isSel?`${sc}12`:"transparent",
                          cursor:"pointer",transition:"background .15s",
                          opacity:a.status==="CHIUSO"?.45:1,
                        }}>
                          <div style={{width:3,alignSelf:"stretch",borderRadius:2,background:a.status==="CHIUSO"?"#1a3040":sc,flexShrink:0}}/>
                          <div style={{flex:1,minWidth:0}}>
                            <div style={{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"}}>
                              <span style={{fontSize:13,fontWeight:700,color:"#deeeff"}}>{a.type}</span>
                              <span style={{fontSize:9,fontWeight:700,letterSpacing:1,color:sc,background:`${sc}15`,border:`1px solid ${sc}40`,padding:"1px 6px",borderRadius:3}}>{a.sev}</span>
                              <span style={{fontSize:9,fontFamily:"'Share Tech Mono',monospace",color:a.status==="CHIUSO"?C.green:a.status==="IN ANALISI"?C.amber:C.red}}>‚óè {a.status}</span>
                            </div>
                            <div style={{fontSize:10,color:C.muted,marginTop:2,fontFamily:"'Share Tech Mono',monospace"}}>
                              {a.src} <span style={{color:C.dimmed}}>‚Üí</span> {a.dst}
                            </div>
                          </div>
                          <div style={{fontSize:9,color:C.muted,flexShrink:0,textAlign:"right",fontFamily:"'Share Tech Mono',monospace"}}>
                            <div>#{a.id}</div>
                            <div>{fmt(a.ts)}</div>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>

                {/* detail */}
                <div style={{
                  width:340,background:C.panel,
                  border:`1px solid ${C.border}`,borderRadius:10,
                  display:"flex",flexDirection:"column",overflow:"hidden",
                }}>
                  {selected ? (
                    <>
                      <div style={{
                        padding:"12px 16px",borderBottom:`1px solid ${C.border}`,
                        background:`${(SEV[selected.sev]||SEV.BASSO).color}08`,
                        borderTop:`3px solid ${(SEV[selected.sev]||SEV.BASSO).color}`,
                        flexShrink:0,
                      }}>
                        <div style={{fontSize:9,color:C.muted,letterSpacing:2,marginBottom:4,fontFamily:"'Share Tech Mono',monospace"}}>INCIDENTE #{selected.id}</div>
                        <div style={{fontSize:15,fontWeight:700,color:"#deeeff",fontFamily:"'Exo 2',sans-serif",marginBottom:8}}>{selected.type}</div>
                        <div style={{fontSize:10,color:C.muted,fontFamily:"'Share Tech Mono',monospace",lineHeight:1.9}}>
                          {[["QUANDO",fmtFull(selected.ts)],["SORGENTE",selected.src],["TARGET",selected.dst],["INFO",selected.info],selected.analyst?["ANALISTA",selected.analyst]:null].filter(Boolean).map(([k,v])=>(
                            <div key={k}><span style={{color:C.dimmed}}>{k}:</span> <span style={{color:"#a0c8e0"}}>{v}</span></div>
                          ))}
                        </div>
                      </div>

                      <div style={{padding:"12px 14px",borderBottom:`1px solid ${C.border}`,flexShrink:0}}>
                        <div style={{fontSize:9,color:C.muted,letterSpacing:2,marginBottom:8}}>AZIONI IMMEDIATE</div>
                        <div style={{display:"flex",flexWrap:"wrap",gap:6}}>
                          {[["üö´ Blocca IP",C.red],["üîå Isola Host",C.amber],["üìß Alert CISO",C.purple],["‚úì Chiudi",C.green]].map(([l,c])=>(
                            <button key={l} className="action-btn" style={{
                              padding:"6px 10px",background:`${c}15`,
                              border:`1px solid ${c}50`,borderRadius:5,
                              color:c,fontFamily:"'Rajdhani',sans-serif",
                              fontSize:10,fontWeight:700,letterSpacing:1,cursor:"pointer",transition:"all .15s",
                            }}>{l}</button>
                          ))}
                        </div>
                      </div>

                      <div style={{flex:1,overflowY:"auto",padding:"12px 14px"}}>
                        <div style={{fontSize:9,color:C.muted,letterSpacing:2,marginBottom:8}}>PLAYBOOK GUIDATO</div>
                        {(PLAYBOOKS[selected.type]||[]).map((step,i)=>{
                          const k=`${selected.id}-${i}`;
                          const done=pbDone[k];
                          return (
                            <div key={k} onClick={()=>setPbDone(p=>({...p,[k]:!done}))} style={{
                              display:"flex",gap:10,alignItems:"flex-start",
                              padding:"8px 0",borderBottom:`1px solid ${C.border}`,cursor:"pointer",
                            }}>
                              <div style={{
                                width:20,height:20,borderRadius:"50%",flexShrink:0,marginTop:2,
                                border:`1.5px solid ${done?C.green:C.dimmed}`,
                                background:done?`${C.green}20`:"transparent",
                                display:"flex",alignItems:"center",justifyContent:"center",
                                fontSize:9,color:done?C.green:C.muted,fontWeight:700,
                              }}>{done?"‚úì":i+1}</div>
                              <div style={{
                                fontSize:11,lineHeight:1.5,
                                color:done?C.green:"#8aacbe",
                                textDecoration:done?"line-through":"none",
                              }}>{step}</div>
                            </div>
                          );
                        })}
                      </div>
                    </>
                  ) : (
                    <div style={{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:24,textAlign:"center"}}>
                      <div style={{fontSize:40,marginBottom:14}}>üëÜ</div>
                      <div style={{fontSize:13,color:C.muted,lineHeight:1.8}}>
                        Seleziona un alert per vedere il dettaglio e il playbook di risposta guidata
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>
          )}

          {/* ‚ïê‚ïê ASSETS ‚ïê‚ïê */}
          {view==="assets" && (
            <div style={{padding:20}}>
              <div style={{fontSize:10,letterSpacing:3,color:C.muted,marginBottom:16}}>ASSET MONITORATI ‚Äî {ASSETS.length} DISPOSITIVI</div>
              <div style={{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(270px,1fr))",gap:12}}>
                {ASSETS.map(a=>{
                  const sc=!a.ok?(a.events>800?C.red:C.amber):C.green;
                  return (
                    <div key={a.name} style={{background:C.panel,border:`1px solid ${sc}25`,borderLeft:`3px solid ${sc}`,borderRadius:10,padding:18}}>
                      <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}}>
                        <div>
                          <div style={{fontSize:14,fontWeight:700,color:"#deeeff",fontFamily:"'Exo 2',sans-serif"}}>{a.name}</div>
                          <div style={{fontSize:10,color:C.muted,marginTop:2,letterSpacing:1}}>{a.type}</div>
                        </div>
                        <PulseDot color={sc} size={10}/>
                      </div>
                      <div style={{marginTop:14,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px 16px",fontSize:10,fontFamily:"'Share Tech Mono',monospace"}}>
                        {[["IP",a.ip],["STATO",a.ok?"ONLINE":"ALLERTA"],["EVENTI/H",a.events],["CPU",a.cpu+"%"]].map(([k,v])=>(
                          <div key={k}>
                            <div style={{color:C.muted,fontSize:8,letterSpacing:1}}>{k}</div>
                            <div style={{color:k==="STATO"?sc:k==="CPU"&&a.cpu>70?C.red:k==="EVENTI/H"&&a.events>500?C.red:"#a0c8e0",fontWeight:k==="STATO"?700:400}}>{v}</div>
                          </div>
                        ))}
                      </div>
                      <div style={{marginTop:12,display:"flex",gap:8}}>
                        {[["CPU",a.cpu],["EVENTI/H",Math.min(100,a.events/12)]].map(([l,p])=>(
                          <div key={l} style={{flex:1}}>
                            <div style={{fontSize:8,color:C.muted,letterSpacing:1,marginBottom:3}}>{l}</div>
                            <div style={{height:4,background:"#0e1f30",borderRadius:2}}>
                              <div style={{width:`${p}%`,height:"100%",borderRadius:2,background:p>70?`linear-gradient(90deg,${C.amber},${C.red})`:`linear-gradient(90deg,${sc}60,${sc})`,transition:"width .5s"}}/>
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          )}

          {/* ‚ïê‚ïê MINACCE ‚ïê‚ïê */}
          {view==="minacce" && (
            <div style={{padding:20}}>
              <div style={{fontSize:10,letterSpacing:3,color:C.muted,marginBottom:16}}>MAPPA DI RETE AZIENDALE ‚Äî MINACCE IN TEMPO REALE</div>

              {/* ‚îÄ‚îÄ Network Topology Map ‚îÄ‚îÄ */}
              <div style={{
                background:C.panel, border:`1px solid ${C.border}`,
                borderRadius:10, position:"relative", overflow:"hidden",
                marginBottom:16, padding:"20px 16px 16px",
              }}>
                {/* subtle grid */}
                <div style={{position:"absolute",inset:0,backgroundImage:`linear-gradient(${C.border}30 1px,transparent 1px),linear-gradient(90deg,${C.border}30 1px,transparent 1px)`,backgroundSize:"40px 40px",opacity:.4,pointerEvents:"none"}}/>

                {/* Zone labels */}
                <div style={{position:"relative",display:"flex",gap:10,alignItems:"stretch",minHeight:320}}>

                  {/* INTERNET ZONE */}
                  <div style={{
                    width:110, flexShrink:0,
                    border:`1px dashed ${C.red}40`, borderRadius:8,
                    background:`${C.red}05`, padding:"10px 8px",
                    display:"flex",flexDirection:"column",alignItems:"center",gap:14,
                  }}>
                    <div style={{fontSize:8,letterSpacing:2,color:`${C.red}80`,fontFamily:"'Share Tech Mono',monospace",textAlign:"center"}}>INTERNET<br/>ESTERNO</div>

                    {[
                      {icon:"üåê", label:"Web Attack",   sub:"185.220.x.x",  color:C.red,   active:true},
                      {icon:"üìß", label:"Phishing",     sub:"fake-domain",  color:C.red,   active:true},
                      {icon:"ü§ñ", label:"Bot / Scanner",sub:"Botnet CN",    color:C.amber, active:true},
                      {icon:"üîì", label:"Brute Force",  sub:"SSH / RDP",    color:C.red,   active:false},
                    ].map((node,i)=>(
                      <div key={i} style={{textAlign:"center",width:"100%"}}>
                        <div style={{
                          fontSize:20, lineHeight:1,
                          filter: node.active ? `drop-shadow(0 0 6px ${node.color})` : "none",
                        }}>{node.icon}</div>
                        <div style={{fontSize:9,color:node.color,fontWeight:700,marginTop:3,fontFamily:"'Share Tech Mono',monospace"}}>{node.label}</div>
                        <div style={{fontSize:8,color:C.muted,marginTop:1}}>{node.sub}</div>
                        {node.active && (
                          <div style={{
                            marginTop:4,width:6,height:6,borderRadius:"50%",
                            background:node.color,margin:"4px auto 0",
                            boxShadow:`0 0 8px ${node.color}`,
                            animation:"pulse-ring 1.5s ease-out infinite",
                          }}/>
                        )}
                      </div>
                    ))}
                  </div>

                  {/* ARROWS internet‚Üífw */}
                  <div style={{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:16,width:32,flexShrink:0}}>
                    {[C.red,C.red,C.amber].map((c,i)=>(
                      <svg key={i} width="32" height="16" style={{overflow:"visible",flexShrink:0}}>
                        <line x1="0" y1="8" x2="28" y2="8" stroke={c} strokeWidth="1.5" strokeDasharray="4,3" opacity="0.7">
                          <animate attributeName="stroke-dashoffset" from="14" to="0" dur={`${0.8+i*0.2}s`} repeatCount="indefinite"/>
                        </line>
                        <polygon points="26,4 32,8 26,12" fill={c} opacity="0.8"/>
                      </svg>
                    ))}
                  </div>

                  {/* DMZ / FIREWALL */}
                  <div style={{
                    width:100, flexShrink:0,
                    border:`1px solid ${C.amber}40`, borderRadius:8,
                    background:`${C.amber}06`, padding:"10px 8px",
                    display:"flex",flexDirection:"column",alignItems:"center",gap:14,
                  }}>
                    <div style={{fontSize:8,letterSpacing:2,color:`${C.amber}80`,fontFamily:"'Share Tech Mono',monospace",textAlign:"center"}}>DMZ /<br/>PERIMETRO</div>

                    {[
                      {icon:"üî•", label:"Firewall",    sub:"FW-01",      color:C.amber, warn:true},
                      {icon:"üåç", label:"Web Server",  sub:"SRV-WEB",    color:C.red,   warn:true},
                      {icon:"üîê", label:"VPN Gateway", sub:"VPN-GW",     color:C.red,   warn:true},
                      {icon:"üì¨", label:"Mail Server", sub:"MAIL-SRV",   color:C.amber, warn:false},
                    ].map((node,i)=>(
                      <div key={i} style={{textAlign:"center",width:"100%",position:"relative"}}>
                        <div style={{
                          fontSize:18,lineHeight:1,
                          filter:node.warn?`drop-shadow(0 0 5px ${node.color})`:"none",
                        }}>{node.icon}</div>
                        <div style={{fontSize:9,color:node.warn?node.color:C.text,fontWeight:700,marginTop:3}}>{node.label}</div>
                        <div style={{fontSize:8,color:C.muted,marginTop:1,fontFamily:"'Share Tech Mono',monospace"}}>{node.sub}</div>
                        {node.warn && (
                          <div style={{
                            position:"absolute",top:-2,right:4,
                            width:7,height:7,borderRadius:"50%",
                            background:node.color,boxShadow:`0 0 6px ${node.color}`,
                          }}/>
                        )}
                      </div>
                    ))}
                  </div>

                  {/* ARROWS fw‚Üílan */}
                  <div style={{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:16,width:28,flexShrink:0}}>
                    {[C.amber,C.cyan].map((c,i)=>(
                      <svg key={i} width="28" height="16" style={{overflow:"visible"}}>
                        <line x1="0" y1="8" x2="24" y2="8" stroke={c} strokeWidth="1.5" strokeDasharray="4,3" opacity="0.6">
                          <animate attributeName="stroke-dashoffset" from="14" to="0" dur={`${1+i*0.3}s`} repeatCount="indefinite"/>
                        </line>
                        <polygon points="22,4 28,8 22,12" fill={c} opacity="0.7"/>
                      </svg>
                    ))}
                  </div>

                  {/* LAN INTERNA */}
                  <div style={{
                    flex:1, minWidth:0,
                    border:`1px solid ${C.cyan}30`, borderRadius:8,
                    background:`${C.cyan}04`, padding:"10px 12px",
                  }}>
                    <div style={{fontSize:8,letterSpacing:2,color:`${C.cyan}60`,fontFamily:"'Share Tech Mono',monospace",marginBottom:12}}>LAN INTERNA AZIENDALE</div>

                    {/* Server row */}
                    <div style={{display:"flex",gap:10,marginBottom:14,flexWrap:"wrap"}}>
                      {[
                        {icon:"üñ•", label:"Domain Controller", sub:"DC-01",       color:C.cyan,  ok:true},
                        {icon:"üíæ", label:"File Server",       sub:"NAS-DOCS",    color:C.green, ok:true},
                        {icon:"üóÑ", label:"DB Server",         sub:"SRV-DB",      color:C.green, ok:true},
                        {icon:"üí∞", label:"ERP / Gestionale",  sub:"SRV-ERP",     color:C.amber, ok:false},
                      ].map((node,i)=>(
                        <div key={i} style={{
                          flex:"1 1 80px", textAlign:"center",
                          background:node.ok?"rgba(0,0,0,.3)":`${C.red}08`,
                          border:`1px solid ${node.ok?C.border:node.color+"50"}`,
                          borderRadius:6, padding:"8px 6px", position:"relative",
                        }}>
                          <div style={{fontSize:18,filter:!node.ok?`drop-shadow(0 0 4px ${node.color})`:"none"}}>{node.icon}</div>
                          <div style={{fontSize:9,color:node.ok?C.text:node.color,fontWeight:700,marginTop:3}}>{node.label}</div>
                          <div style={{fontSize:8,color:C.muted,fontFamily:"'Share Tech Mono',monospace"}}>{node.sub}</div>
                          {!node.ok && (
                            <div style={{position:"absolute",top:-3,right:-3,width:8,height:8,borderRadius:"50%",background:node.color,boxShadow:`0 0 8px ${node.color}`,animation:"pulse-ring 1.2s ease-out infinite"}}/>
                          )}
                        </div>
                      ))}
                    </div>

                    {/* Divider */}
                    <div style={{borderTop:`1px dashed ${C.border}`,marginBottom:12}}/>

                    {/* Endpoints row */}
                    <div style={{fontSize:8,letterSpacing:2,color:C.muted,marginBottom:8,fontFamily:"'Share Tech Mono',monospace"}}>ENDPOINT / POSTAZIONI</div>
                    <div style={{display:"flex",gap:8,flexWrap:"wrap"}}>
                      {[
                        {icon:"üíª",label:"PC Ufficio 1",  color:C.green,  alert:false},
                        {icon:"üíª",label:"PC Ufficio 2",  color:C.green,  alert:false},
                        {icon:"üíª",label:"PC Contabilit√†",color:C.red,    alert:true},
                        {icon:"üíª",label:"PC Direzione",  color:C.green,  alert:false},
                        {icon:"üì±",label:"Smartphone",    color:C.amber,  alert:false},
                        {icon:"üñ®",label:"Stampante",     color:C.green,  alert:false},
                      ].map((node,i)=>(
                        <div key={i} style={{
                          textAlign:"center",
                          background:node.alert?`${C.red}10`:"transparent",
                          border:`1px solid ${node.alert?C.red+"40":C.border}`,
                          borderRadius:5,padding:"6px 10px",position:"relative",
                          minWidth:72,
                        }}>
                          <div style={{fontSize:16,filter:node.alert?`drop-shadow(0 0 5px ${C.red})`:"none"}}>{node.icon}</div>
                          <div style={{fontSize:8,color:node.alert?C.red:C.muted,marginTop:2,fontWeight:node.alert?700:400}}>{node.label}</div>
                          {node.alert && (
                            <div style={{position:"absolute",top:-3,right:-3,width:8,height:8,borderRadius:"50%",background:C.red,boxShadow:`0 0 6px ${C.red}`,animation:"pulse-ring 1s ease-out infinite"}}/>
                          )}
                        </div>
                      ))}
                    </div>
                  </div>
                </div>

                {/* Legend */}
                <div style={{
                  marginTop:12, paddingTop:10,
                  borderTop:`1px solid ${C.border}`,
                  display:"flex", gap:20, flexWrap:"wrap", alignItems:"center",
                }}>
                  <div style={{fontSize:8,letterSpacing:2,color:C.muted,fontFamily:"'Share Tech Mono',monospace"}}>LEGENDA:</div>
                  {[
                    {color:C.red,   label:"Compromesso / Sotto attacco"},
                    {color:C.amber, label:"Anomalia rilevata"},
                    {color:C.green, label:"Sicuro"},
                    {color:C.cyan,  label:"Monitorato"},
                  ].map(l=>(
                    <div key={l.label} style={{display:"flex",alignItems:"center",gap:5}}>
                      <div style={{width:7,height:7,borderRadius:"50%",background:l.color,boxShadow:`0 0 4px ${l.color}`}}/>
                      <span style={{fontSize:9,color:C.muted}}>{l.label}</span>
                    </div>
                  ))}
                  <div style={{marginLeft:"auto",fontSize:9,color:C.muted,fontFamily:"'Share Tech Mono',monospace"}}>
                    3 NODI A RISCHIO ‚Äî AGGIORNAMENTO IN TEMPO REALE
                  </div>
                </div>
              </div>

              {/* Top threats table */}
              <div style={{background:C.panel,border:`1px solid ${C.border}`,borderRadius:10,overflow:"hidden"}}>
                <div style={{padding:"10px 16px",borderBottom:`1px solid ${C.border}`,fontSize:10,letterSpacing:2,color:C.muted}}>MINACCE ATTIVE SUI NODI</div>
                {alerts.filter(a=>a.status!=="CHIUSO").slice(0,6).map(a=>{
                  const sc=(SEV[a.sev]||SEV.BASSO).color;
                  return (
                    <div key={a.id} style={{display:"flex",alignItems:"center",gap:14,padding:"10px 16px",borderBottom:`1px solid ${C.border}`}}>
                      <div style={{width:8,height:8,borderRadius:"50%",background:sc,boxShadow:`0 0 6px ${sc}`,flexShrink:0}}/>
                      <div style={{flex:1}}>
                        <div style={{fontSize:13,fontWeight:700,color:"#deeeff"}}>{a.type}</div>
                        <div style={{fontSize:10,color:C.muted,fontFamily:"'Share Tech Mono',monospace"}}>{a.src} <span style={{color:C.dimmed}}>‚Üí</span> {a.dst}</div>
                      </div>
                      <span style={{fontSize:9,color:sc,background:`${sc}15`,border:`1px solid ${sc}40`,padding:"2px 8px",borderRadius:3,fontWeight:700}}>{a.sev}</span>
                    </div>
                  );
                })}
              </div>
            </div>
          )}


          {/* ‚ïê‚ïê SUPPORTO ‚ïê‚ïê */}
          {view==="supporto" && (
            <div style={{padding:20,maxWidth:860,margin:"0 auto",width:"100%"}}>

              {/* Header */}
              <div style={{
                background:`linear-gradient(135deg,${C.panel},#0a0f18)`,
                border:`1px solid ${C.red}40`,
                borderLeft:`4px solid ${C.red}`,
                borderRadius:10,padding:"20px 24px",marginBottom:16,
                display:"flex",alignItems:"center",gap:16,
              }}>
                <div style={{fontSize:40}}>üÜò</div>
                <div style={{flex:1}}>
                  <div style={{fontSize:9,letterSpacing:3,color:C.red+"80",fontFamily:"'Share Tech Mono',monospace",marginBottom:4}}>SARGEM ‚Äî CENTRO OPERATIVO SOC GEM</div>
                  <div style={{fontSize:20,fontWeight:800,color:"#eef4ff",fontFamily:"'Exo 2',sans-serif"}}>Richiedi Supporto Immediato</div>
                  <div style={{fontSize:12,color:C.muted,marginTop:4}}>Il nostro team √® operativo H24 ¬∑ Tempo di risposta garantito in base all'urgenza</div>
                </div>
                <div style={{textAlign:"center",padding:"12px 20px",background:`${C.green}10`,border:`1px solid ${C.green}30`,borderRadius:8}}>
                  <div style={{display:"flex",alignItems:"center",gap:6,justifyContent:"center"}}>
                    <div style={{width:8,height:8,borderRadius:"50%",background:C.green,boxShadow:`0 0 8px ${C.green}`,animation:"pulse-ring 2s ease-out infinite"}}/>
                    <span style={{fontSize:10,color:C.green,fontWeight:700,letterSpacing:2,fontFamily:"'Share Tech Mono',monospace"}}>TEAM ONLINE</span>
                  </div>
                  <div style={{fontSize:22,fontWeight:800,color:C.green,marginTop:4,fontFamily:"'Exo 2',sans-serif"}}>H24</div>
                  <div style={{fontSize:9,color:C.muted,letterSpacing:1}}>7 giorni su 7</div>
                </div>
              </div>

              {supportSent ? (
                /* ‚îÄ‚îÄ SUCCESS STATE ‚îÄ‚îÄ */
                <div style={{
                  textAlign:"center",padding:"60px 24px",
                  background:C.panel,border:`1px solid ${C.green}40`,
                  borderRadius:10,
                }}>
                  <div style={{fontSize:64,marginBottom:16}}>‚úÖ</div>
                  <div style={{fontSize:22,fontWeight:800,color:C.green,fontFamily:"'Exo 2',sans-serif",marginBottom:8}}>Richiesta Inviata!</div>
                  <div style={{fontSize:14,color:C.muted,lineHeight:1.8,marginBottom:24}}>
                    Il team SARGEM ha ricevuto la tua richiesta.<br/>
                    Verrai ricontattato entro i tempi garantiti dal tuo livello di urgenza.
                  </div>
                  <div style={{
                    display:"inline-block",padding:"10px 24px",
                    background:`${C.cyan}15`,border:`1px solid ${C.cyan}40`,borderRadius:6,
                    fontSize:11,color:C.cyan,fontFamily:"'Share Tech Mono',monospace",letterSpacing:2,marginBottom:24,
                  }}>
                    TICKET #{Math.floor(Math.random()*90000)+10000} ‚Äî IN CODA AL SOC
                  </div>
                  <br/>
                  <button onClick={()=>setSupportSent(false)} style={{
                    padding:"10px 24px",background:"transparent",
                    border:`1px solid ${C.border}`,borderRadius:6,
                    color:C.muted,fontFamily:"'Rajdhani',sans-serif",
                    fontSize:12,letterSpacing:2,cursor:"pointer",fontWeight:700,
                  }}>+ NUOVA RICHIESTA</button>
                </div>
              ) : (
                <div style={{display:"grid",gridTemplateColumns:"1fr 340px",gap:14}}>

                  {/* ‚îÄ‚îÄ FORM ‚îÄ‚îÄ */}
                  <div style={{background:C.panel,border:`1px solid ${C.border}`,borderRadius:10,padding:22}}>
                    <div style={{fontSize:10,letterSpacing:3,color:C.muted,marginBottom:18,fontFamily:"'Share Tech Mono',monospace"}}>DETTAGLI RICHIESTA</div>

                    {/* Urgenza selector */}
                    <div style={{marginBottom:18}}>
                      <div style={{fontSize:10,color:C.muted,letterSpacing:1,marginBottom:8}}>LIVELLO DI URGENZA</div>
                      <div style={{display:"flex",gap:8}}>
                        {[
                          {val:"CRITICA",  color:C.red,   icon:"üî¥", desc:"Sistema compromesso ora"},
                          {val:"ALTA",     color:C.amber, icon:"üü†", desc:"Attacco in corso"},
                          {val:"NORMALE",  color:C.cyan,  icon:"üîµ", desc:"Analisi / consulenza"},
                          {val:"BASSA",    color:C.green, icon:"üü¢", desc:"Domanda generale"},
                        ].map(u=>(
                          <div key={u.val} onClick={()=>setSupportForm(f=>({...f,urgenza:u.val}))} style={{
                            flex:1,textAlign:"center",padding:"10px 6px",
                            background:supportForm.urgenza===u.val?`${u.color}18`:"transparent",
                            border:`1.5px solid ${supportForm.urgenza===u.val?u.color:C.border}`,
                            borderRadius:7,cursor:"pointer",transition:"all .2s",
                          }}>
                            <div style={{fontSize:18}}>{u.icon}</div>
                            <div style={{fontSize:10,fontWeight:700,color:supportForm.urgenza===u.val?u.color:C.muted,marginTop:4,letterSpacing:1}}>{u.val}</div>
                            <div style={{fontSize:8,color:C.muted,marginTop:2,lineHeight:1.3}}>{u.desc}</div>
                          </div>
                        ))}
                      </div>
                    </div>

                    {/* Tipo richiesta */}
                    <div style={{marginBottom:16}}>
                      <div style={{fontSize:10,color:C.muted,letterSpacing:1,marginBottom:8}}>TIPO DI SUPPORTO</div>
                      <div style={{display:"flex",flexWrap:"wrap",gap:6}}>
                        {["Analisi Incidente","Risposta a Ransomware","Data Breach / GDPR","Consulenza Sicurezza","Configurazione Sistema","Altro"].map(t=>(
                          <div key={t} onClick={()=>setSupportForm(f=>({...f,tipo:t}))} style={{
                            padding:"6px 12px",
                            background:supportForm.tipo===t?`${C.cyan}15`:"transparent",
                            border:`1px solid ${supportForm.tipo===t?C.cyan+"60":C.border}`,
                            borderRadius:5,cursor:"pointer",
                            fontSize:11,color:supportForm.tipo===t?C.cyan:C.muted,
                            fontWeight:supportForm.tipo===t?700:400,
                            transition:"all .15s",
                          }}>{t}</div>
                        ))}
                      </div>
                    </div>

                    {/* Campi testo */}
                    <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:12}}>
                      {[
                        {key:"nome",  label:"NOME E COGNOME",    placeholder:"Mario Rossi"},
                        {key:"email", label:"EMAIL AZIENDALE",   placeholder:"m.rossi@azienda.it"},
                        {key:"tel",   label:"TELEFONO",          placeholder:"+39 02 1234567"},
                      ].map(field=>(
                        <div key={field.key} style={{gridColumn:field.key==="tel"?"1":undefined}}>
                          <div style={{fontSize:9,color:C.muted,letterSpacing:1,marginBottom:5}}>{field.label}</div>
                          <input
                            value={supportForm[field.key]}
                            onChange={e=>setSupportForm(f=>({...f,[field.key]:e.target.value}))}
                            placeholder={field.placeholder}
                            style={{
                              width:"100%",padding:"9px 12px",
                              background:"#060d14",
                              border:`1px solid ${C.border}`,borderRadius:6,
                              color:C.text,fontFamily:"'Rajdhani',sans-serif",fontSize:12,
                              outline:"none",
                            }}
                          />
                        </div>
                      ))}
                    </div>

                    {/* Messaggio */}
                    <div style={{marginBottom:18}}>
                      <div style={{fontSize:9,color:C.muted,letterSpacing:1,marginBottom:5}}>DESCRIZIONE DEL PROBLEMA</div>
                      <textarea
                        rows={4}
                        value={supportForm.messaggio}
                        onChange={e=>setSupportForm(f=>({...f,messaggio:e.target.value}))}
                        placeholder="Descrivi brevemente cosa sta succedendo, quali sistemi sono coinvolti e da quando hai notato il problema..."
                        style={{
                          width:"100%",padding:"10px 12px",
                          background:"#060d14",
                          border:`1px solid ${C.border}`,borderRadius:6,
                          color:C.text,fontFamily:"'Rajdhani',sans-serif",fontSize:12,
                          outline:"none",resize:"vertical",lineHeight:1.6,
                        }}
                      />
                    </div>

                    {/* Submit */}
                    <button onClick={()=>{if(supportForm.nome&&supportForm.email)setSupportSent(true);}} style={{
                      width:"100%",padding:"14px",
                      background:supportForm.urgenza==="CRITICA"
                        ?`linear-gradient(90deg,${C.red}40,${C.red}20)`
                        :`linear-gradient(90deg,${C.cyan}25,${C.cyan}10)`,
                      border:`1px solid ${supportForm.urgenza==="CRITICA"?C.red+"70":C.cyan+"50"}`,
                      borderRadius:8,cursor:"pointer",
                      color:supportForm.urgenza==="CRITICA"?C.red:C.cyan,
                      fontFamily:"'Rajdhani',sans-serif",fontSize:14,fontWeight:800,letterSpacing:3,
                      transition:"all .2s",
                    }}>
                      {supportForm.urgenza==="CRITICA" ? "üö® INVIA RICHIESTA URGENTE" : "‚Üí INVIA RICHIESTA DI SUPPORTO"}
                    </button>
                    <div style={{fontSize:9,color:C.muted,textAlign:"center",marginTop:8}}>
                      Compila almeno Nome ed Email per inviare
                    </div>
                  </div>

                  {/* ‚îÄ‚îÄ INFO SIDEBAR ‚îÄ‚îÄ */}
                  <div style={{display:"flex",flexDirection:"column",gap:12}}>

                    {/* SLA tempi */}
                    <div style={{background:C.panel,border:`1px solid ${C.border}`,borderRadius:10,padding:18}}>
                      <div style={{fontSize:10,letterSpacing:2,color:C.muted,marginBottom:14,fontFamily:"'Share Tech Mono',monospace"}}>TEMPI DI RISPOSTA GARANTITI</div>
                      {[
                        {urgenza:"CRITICA",  color:C.red,   tempo:"< 15 minuti",  icon:"üî¥"},
                        {urgenza:"ALTA",     color:C.amber, tempo:"< 1 ora",       icon:"üü†"},
                        {urgenza:"NORMALE",  color:C.cyan,  tempo:"< 4 ore",       icon:"üîµ"},
                        {urgenza:"BASSA",    color:C.green, tempo:"Entro 24 ore",  icon:"üü¢"},
                      ].map(s=>(
                        <div key={s.urgenza} style={{
                          display:"flex",alignItems:"center",justifyContent:"space-between",
                          padding:"9px 0",borderBottom:`1px solid ${C.border}`,
                        }}>
                          <div style={{display:"flex",alignItems:"center",gap:8}}>
                            <span style={{fontSize:12}}>{s.icon}</span>
                            <span style={{fontSize:11,color:s.color,fontWeight:700,letterSpacing:1}}>{s.urgenza}</span>
                          </div>
                          <span style={{fontSize:11,color:C.muted,fontFamily:"'Share Tech Mono',monospace"}}>{s.tempo}</span>
                        </div>
                      ))}
                    </div>

                    {/* Contatti diretti */}
                    <div style={{background:C.panel,border:`1px solid ${C.border}`,borderRadius:10,padding:18}}>
                      <div style={{fontSize:10,letterSpacing:2,color:C.muted,marginBottom:14,fontFamily:"'Share Tech Mono',monospace"}}>CONTATTI DIRETTI SARGEM</div>
                      {[
                        {icon:"üìû", label:"Emergenze H24",  val:"+39 02 000 0000",  color:C.red},
                        {icon:"üìß", label:"Email SOC",      val:"soc@sargem.it",    color:C.cyan},
                        {icon:"üí¨", label:"Chat Sicura",    val:"Accedi al portale",color:C.green},
                      ].map(c=>(
                        <div key={c.label} style={{
                          display:"flex",alignItems:"center",gap:10,
                          padding:"10px 0",borderBottom:`1px solid ${C.border}`,
                        }}>
                          <span style={{fontSize:18}}>{c.icon}</span>
                          <div>
                            <div style={{fontSize:9,color:C.muted,letterSpacing:1}}>{c.label}</div>
                            <div style={{fontSize:12,color:c.color,fontWeight:700,marginTop:2}}>{c.val}</div>
                          </div>
                        </div>
                      ))}
                    </div>

                    {/* Cosa succede dopo */}
                    <div style={{background:`${C.cyan}06`,border:`1px solid ${C.cyan}20`,borderRadius:10,padding:18}}>
                      <div style={{fontSize:10,letterSpacing:2,color:C.cyan+"80",marginBottom:12,fontFamily:"'Share Tech Mono',monospace"}}>COSA SUCCEDE DOPO</div>
                      {[
                        "Ricevi email di conferma con numero ticket",
                        "Un analista SARGEM analizza la situazione",
                        "Ti contattiamo entro i tempi garantiti",
                        "Lavoriamo insieme fino alla risoluzione",
                      ].map((step,i)=>(
                        <div key={i} style={{display:"flex",gap:8,marginBottom:8,alignItems:"flex-start"}}>
                          <div style={{
                            width:18,height:18,borderRadius:"50%",flexShrink:0,
                            background:`${C.cyan}20`,border:`1px solid ${C.cyan}40`,
                            display:"flex",alignItems:"center",justifyContent:"center",
                            fontSize:9,color:C.cyan,fontWeight:700,marginTop:1,
                          }}>{i+1}</div>
                          <div style={{fontSize:11,color:C.muted,lineHeight:1.5}}>{step}</div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              )}
            </div>
          )}

          {/* ‚ïê‚ïê REPORT ‚ïê‚ïê */}
          {view==="report" && (
            <div style={{padding:20,maxWidth:820}}>
              <div style={{fontSize:10,letterSpacing:3,color:C.muted,marginBottom:20}}>REPORT ESECUTIVO ‚Äî FEBBRAIO 2025</div>
              <div style={{background:C.panel,border:`1px solid ${C.border}`,borderTop:`3px solid ${C.cyan}`,borderRadius:10,padding:22,marginBottom:16}}>
                <div style={{fontSize:15,fontWeight:700,color:"#deeeff",fontFamily:"'Exo 2',sans-serif",marginBottom:18}}>Riepilogo del Mese</div>
                <div style={{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:16,textAlign:"center"}}>
                  {[
                    {label:"Minacce Rilevate",      val:"312", delta:"+12% vs mese prec.", color:C.cyan},
                    {label:"Risolte Automaticamente",val:"289", delta:"92.6% di efficacia",  color:C.green},
                    {label:"Interventi Manuali",     val:"23",  delta:"tempo medio 4m 12s",  color:C.amber},
                  ].map(k=>(
                    <div key={k.label}>
                      <div style={{fontSize:40,fontWeight:800,color:k.color,fontFamily:"'Exo 2',sans-serif"}}>{k.val}</div>
                      <div style={{fontSize:11,color:C.text,marginTop:4,fontWeight:600}}>{k.label}</div>
                      <div style={{fontSize:9,color:C.muted,marginTop:2}}>{k.delta}</div>
                    </div>
                  ))}
                </div>
              </div>
              <div style={{background:C.panel,border:`1px solid ${C.border}`,borderRadius:10,padding:22,marginBottom:16}}>
                <div style={{fontSize:13,fontWeight:700,color:"#deeeff",fontFamily:"'Exo 2',sans-serif",marginBottom:18}}>Stato Conformit√† Normativa</div>
                {[{name:"GDPR",score:94,ok:true},{name:"NIS2",score:87,ok:true},{name:"ISO 27001",score:81,ok:true},{name:"DORA",score:58,ok:false}].map(c=>(
                  <div key={c.name} style={{display:"flex",alignItems:"center",gap:16,marginBottom:14}}>
                    <div style={{width:80,fontSize:13,fontWeight:700,color:c.ok?C.text:C.amber}}>{c.name}</div>
                    <div style={{flex:1,height:8,background:"#0e1f30",borderRadius:4}}>
                      <div style={{height:"100%",borderRadius:4,width:`${c.score}%`,background:c.ok?`linear-gradient(90deg,${C.green}70,${C.green})`:`linear-gradient(90deg,${C.amber}70,${C.amber})`,transition:"width .8s"}}/>
                    </div>
                    <div style={{width:36,textAlign:"right",fontSize:12,fontWeight:700,color:c.ok?C.green:C.amber}}>{c.score}%</div>
                    <div style={{width:120,fontSize:10,color:c.ok?C.green:C.amber}}>{c.ok?"‚úì CONFORME":"‚ö† DA MIGLIORARE"}</div>
                  </div>
                ))}
              </div>
              <button style={{
                width:"100%",padding:15,
                background:`linear-gradient(90deg,${C.cyan}20,${C.cyan}10)`,
                border:`1px solid ${C.cyan}50`,borderRadius:8,
                color:C.cyan,fontFamily:"'Rajdhani',sans-serif",
                fontSize:14,fontWeight:700,letterSpacing:2,cursor:"pointer",
              }}>‚Üì ESPORTA REPORT PDF PER CDA / AUDITOR</button>
            </div>
          )}
        </div>
      </div>

      {/* TICKER */}
      <div style={{height:28,background:"#04070d",borderTop:`1px solid ${C.border}`,overflow:"hidden",flexShrink:0}}>
        <div style={{display:"flex",alignItems:"center",height:"100%",animation:"ticker 35s linear infinite",whiteSpace:"nowrap"}}>
          {[...alerts,...alerts].map((a,i)=>(
            <span key={i} style={{marginRight:40,fontSize:10,fontFamily:"'Share Tech Mono',monospace"}}>
              <span style={{color:(SEV[a.sev]||SEV.BASSO).color}}>‚óè</span>
              <span style={{color:C.muted,marginLeft:6}}>{a.type}</span>
              <span style={{color:C.border,margin:"0 6px"}}>|</span>
              <span style={{color:C.muted}}>{a.src}</span>
              <span style={{color:C.border,margin:"0 6px"}}>|</span>
              <span style={{color:C.muted}}>{fmt(a.ts)}</span>
            </span>
          ))}
        </div>
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ ROOT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function App() {
  const [phase, setPhase] = useState("splash");
  if (phase === "splash") return <Splash onDone={()=>setPhase("dashboard")}/>;
  return <Dashboard/>;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
